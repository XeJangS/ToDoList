(()=>{"use strict";let t=!1;setTimeout((()=>{if(t){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0);const e=document.querySelector(".addmenu-todolist__input"),o=document.querySelector(".addmenu-todolist__cansel"),i=document.querySelector(".todolist__list");let s=JSON.parse(localStorage.getItem("tasks"))||[];function d(){localStorage.setItem("tasks",JSON.stringify(s)),n()}function n(){i.innerHTML="",s.forEach(((t,e)=>{const o=document.createElement("li");o.classList.add("todolist__item"),o.innerHTML=`<div class="todolist__header"><div class="todolist__title">Task</div><div class="todolist__editing"><div class="todolist__date">08.08.2023</div><div class="todolist__edit"><img src="img/task/edit.svg" alt="edit"></div><div class="todolist__close"><img src="img/task/close.svg" alt=""></div></div></div><div class="todolist__text">${t.text}</div><div class="todolist__arrows"><div class="todolist__arrow arrow-top"><img src="img/task/arrow-top.svg" alt=""></div><div class="todolist__arrow arrow-bottom"><img src="img/task/arrow-top.svg" alt=""></div></div>`;o.querySelector(".todolist__close").addEventListener("click",(function(t){!function(t){s.splice(t,1),d()}(e),n()}));o.querySelector(".todolist__edit").addEventListener("click",(function(o){const i=prompt("Edit task",t.text);null!==i&&(s[e].text=i,d(),n())}));const c=o.querySelector(".arrow-top"),l=o.querySelector(".arrow-bottom");c.addEventListener("click",(function(t){!function(t){if(t>0){const e=s[t];s[t]=s[t-1],s[t-1]=e,d(),n()}}(e)})),l.addEventListener("click",(function(t){!function(t){if(t<s.length-1){const e=s[t];s[t]=s[t+1],s[t+1]=e,d(),n()}}(e)})),i.appendChild(o)}))}n(),o.addEventListener("click",(function(t){const o=e.value;o&&(e.value="",function(t){""!==e&&(s.push({text:t,completed:!1}),d())}(o))})),window.FLS=!0,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}))})();